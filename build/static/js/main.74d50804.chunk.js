(this["webpackJsonpmovie-watchlist"]=this["webpackJsonpmovie-watchlist"]||[]).push([[0],{37:function(e,t,a){},41:function(e,t,a){e.exports=a(59)},54:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);a(42),a(43);var c=a(0),n=a.n(c),l=a(18),r=a.n(l),i=(a(37),a(3)),s=a(26),o=a(62),m=a(61),d=a(22),h=(a(48),a(15)),u=function(){var e=Object(c.useState)(localStorage.getItem("theme")||"light"),t=Object(h.a)(e,2),a=t[0],l=t[1];Object(c.useEffect)((function(){document.documentElement.setAttribute("data-theme",a),localStorage.setItem("theme",a)}),[a]);return n.a.createElement("nav",{className:"navbar"},n.a.createElement("div",{className:"navbar-container container"},n.a.createElement("div",{className:"navbar-left"},n.a.createElement("h1",{className:"navbar-logo"},"MyMovies"),n.a.createElement("button",{className:"theme-toggle",onClick:function(){l((function(e){return"light"===e?"dark":"light"}))}},n.a.createElement("i",{className:"fas fa-".concat("dark"===a?"sun":"moon")}))),n.a.createElement("ul",{className:"nav-links"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(s.b,{exact:!0,to:"/",className:"nav-link",activeClassName:"active"},"Watchlist")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(s.b,{to:"/add",className:"nav-link",activeClassName:"active"},"Add")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(s.b,{to:"/watched",className:"nav-link",activeClassName:"active"},"Watched")))))},p=a(16),v=a(31),E=a(9);function f(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCHLIST":return Object(E.a)(Object(E.a)({},e),{},{watchlist:[t.payload].concat(Object(v.a)(e.watchlist))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(E.a)(Object(E.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});case"REORDER_WATCHLIST":var a=t.payload,c=a.startIndex,n=a.endIndex,l=Array.from(e.watchlist),r=l.splice(c,1),i=Object(h.a)(r,1)[0];return l.splice(n,0,i),localStorage.setItem("watchlist",JSON.stringify(l)),Object(E.a)(Object(E.a)({},e),{},{watchlist:l});case"ADD_MOVIE_TO_WATCHED":var s=t.payload;return Object(E.a)(Object(E.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==s.id})),watched:[s].concat(Object(v.a)(e.watched))});case"MOVE_TO_WATCHLIST":var o=t.payload;return Object(E.a)(Object(E.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==o.id})),watchlist:[o].concat(Object(v.a)(e.watchlist))});case"REMOVE_FROM_WATCHED":return Object(E.a)(Object(E.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload}))});default:return e}}var b={watchlist:[{id:278,title:"The Shawshank Redemption",poster_path:"/q6y0Go1tsGEsmtFryDOJo3dEmqu.jpg",release_date:"1994-09-23"},{id:238,title:"The Godfather",poster_path:"/3bhkrj58Vtu7enYsRolD1fZdja1.jpg",release_date:"1972-03-14"}],watched:localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[]},O=Object(c.createContext)(b),g=function(e,t){return{type:"REORDER_WATCHLIST",payload:{startIndex:e,endIndex:t}}},w=function(e){var t,a=Object(c.useReducer)(f,b),l=Object(h.a)(a,2),r=l[0],i=l[1];Object(c.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(r.watchlist)),localStorage.setItem("watched",JSON.stringify(r.watched))}),[r]);return n.a.createElement(O.Provider,{value:(t={dispatch:i,watchlist:r.watchlist,watched:r.watched},Object(p.a)(t,"dispatch",i),Object(p.a)(t,"addMovieToWatchlist",(function(e){i({type:"ADD_MOVIE_TO_WATCHLIST",payload:e})})),Object(p.a)(t,"removeMovieFromWatchlist",(function(e){i({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})})),Object(p.a)(t,"addMovieToWatched",(function(e){i({type:"ADD_MOVIE_TO_WATCHED",payload:e})})),Object(p.a)(t,"moveToWatchlist",(function(e){i({type:"MOVE_TO_WATCHLIST",payload:e})})),Object(p.a)(t,"removeFromWatched",(function(e){i({type:"REMOVE_FROM_WATCHED",payload:e})})),Object(p.a)(t,"reorderWatchlist",g),t)},e.children)},N=function(e){var t=e.movie,a=e.type,l=Object(c.useContext)(O),r=l.removeMovieFromWatchlist,i=l.addMovieToWatched,s=l.moveToWatchlist,o=l.removeFromWatched;return n.a.createElement("div",{className:"inner-card-controls"},"watchlist"===a&&n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a.button,{className:"ctrl-btn",onClick:function(){i(t),d.b.success("".concat(t.title," added to Watched!"))},whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:17}},n.a.createElement("i",{className:"fa-fw far fa-eye"})),n.a.createElement(m.a.button,{className:"ctrl-btn",onClick:function(){r(t.id),d.b.info("".concat(t.title," removed from Watchlist"))},whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:17}},n.a.createElement("i",{className:"fa-fw fa fa-times"}))),"watched"===a&&n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a.button,{className:"ctrl-btn",onClick:function(){s(t),d.b.success("".concat(t.title," moved back to Watchlist"))},whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:17}},n.a.createElement("i",{className:"fa-fw far fa-eye-slash"})),n.a.createElement(m.a.button,{className:"ctrl-btn",onClick:function(){o(t.id),d.b.info("".concat(t.title," removed from Watched"))},whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:17}},n.a.createElement("i",{className:"fa-fw fa fa-times"}))))},y=(a(54),function(e){var t,a=e.movie,c=e.type,l=void 0===c?"watchlist":c;return n.a.createElement("div",{className:"card-3d"},n.a.createElement("div",{className:"card-inner"},n.a.createElement("div",{className:"card-face card-front"},n.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300".concat(a.poster_path),alt:a.title})),n.a.createElement("div",{className:"card-face card-back"},n.a.createElement("div",{className:"card-reflection",style:{backgroundImage:"url(https://image.tmdb.org/t/p/w300".concat(a.poster_path,")")}}),n.a.createElement("div",{className:"card-back-content"},n.a.createElement("h4",{className:"card-back-title"},a.title),n.a.createElement("p",{className:"card-back-year"},null===(t=a.release_date)||void 0===t?void 0:t.slice(0,4)),n.a.createElement("div",{className:"card-back-controls"},n.a.createElement(N,{movie:a,type:l}))))))}),j=a(30),T=function(){var e=Object(c.useContext)(O),t=e.watchlist,a=e.dispatch;return n.a.createElement("div",{className:"movie-page"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"header"},n.a.createElement("h1",{className:"heading"},"My Watchlist"),n.a.createElement("span",{className:"count-pill"},t.length," ",1===t.length?"Movie":"Movies")),t.length>0?n.a.createElement(j.a,{onDragEnd:function(e){var t=e.source,c=e.destination;c&&(t.index===c.index&&t.droppableId===c.droppableId||a(g(t.index,c.index)))}},n.a.createElement(j.c,{droppableId:"watchlist"},(function(e){return n.a.createElement("div",Object.assign({className:"movie-grid",ref:e.innerRef},e.droppableProps),t.map((function(e,t){return n.a.createElement(j.b,{key:e.id.toString(),draggableId:e.id.toString(),index:t},(function(t){return n.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps),n.a.createElement(y,{movie:e,type:"watchlist"}))}))})),e.placeholder)}))):n.a.createElement("h2",{className:"no-movies"},"No movies in your list! Add some!")))},_=(a(40),function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),a=(t[0],t[1],Object(c.useState)([])),n=Object(h.a)(a,2),l=(n[0],n[1],Object(c.useState)(!1)),r=Object(h.a)(l,2);r[0],r[1]}),W=function(){var e=Object(c.useContext)(O).watched;return n.a.createElement("div",{className:"movie-page"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"header"},n.a.createElement("h1",{className:"heading"},"Watched Movies"),n.a.createElement("span",{className:"count-pill"},e.length," ",1===e.length?"Movie":"Movies")),e.length>0?n.a.createElement("div",{className:"movie-grid"},e.map((function(e){return n.a.createElement(y,{movie:e,key:e.id,type:"watched"})}))):n.a.createElement("h2",{className:"no-movies"},"No movies in your list! Add some!")))};a(58);function I(){var e=Object(i.f)();return n.a.createElement(o.a,{exitBeforeEnter:!0},n.a.createElement(m.a.div,{key:e.pathname,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3}},n.a.createElement(i.c,{location:e},n.a.createElement(i.a,{exact:!0,path:"/",component:T}),n.a.createElement(i.a,{path:"/add",component:_}),n.a.createElement(i.a,{path:"/watched",component:W}))))}var M=function(){return n.a.createElement(w,null,n.a.createElement(s.a,null,n.a.createElement(u,null),n.a.createElement(d.a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,pauseOnHover:!0}),n.a.createElement(I,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.74d50804.chunk.js.map